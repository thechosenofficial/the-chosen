<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>The Chosen | Sanctum</title>
    <script>
        if (localStorage.getItem('chosen_access') !== 'granted') {
            window.location.replace("index.html"); // 인증 안된 경우 로그인 페이지로 강제 추방
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Pirata+One&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #131314;
            --card-bg: #1e1f20;
            --border: #333;
            --header-h: 80px;
            --nav-h: 55px;
            --blue-silver-light: #FFFFFF;
            --blue-silver-mid: #A5C9E1;
            --blue-silver-dark: #708090;
            --pure-silver: #D3D3D3;
        }

        .luster-sky-silver {
            background: linear-gradient(to bottom, var(--blue-silver-light) 0%, var(--blue-silver-mid) 45%, var(--blue-silver-dark) 50%, var(--blue-silver-mid) 55%, var(--blue-silver-light) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 3px rgba(165, 201, 225, 0.3));
        }

        .doctrine-pure-silver {
            color: var(--pure-silver) !important;
            text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.5);
        }

        body {
            background-color: var(--bg-color);
            margin: 0;
            font-family: 'Pirata One', system-ui;
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
            display: none; /* ✨ 보안을 위해 초기 로드 시 숨김 */
        }

        header {
            position: fixed; top: 0; left: 0; width: 100%; height: var(--header-h);
            z-index: 4000; background-color: var(--bg-color);
            display: flex; align-items: center; justify-content: center;
            padding: 0 20px; box-sizing: border-box;
        }

        header .logo { font-size: 32px; letter-spacing: 2px; }

        .menu-btn {
            position: absolute; right: 20px;
            background: none; border: none; cursor: pointer;
            display: flex; flex-direction: column; gap: 6px;
        }
        .menu-btn span { display: block; width: 20px; height: 2px; background-color: var(--blue-silver-mid); }

        .compact-menu {
            position: fixed; top: 70px; right: 20px;
            background-color: var(--card-bg); border: 1px solid var(--border);
            border-radius: 12px; padding: 10px; display: none; z-index: 4500;
        }
        .compact-menu.active { display: block; }
        .compact-menu a {
            display: block; text-decoration: none; font-size: 18px; padding: 10px 15px;
            color: var(--pure-silver);
        }
        /* ✨ 로그아웃 버튼 스타일 */
        .compact-menu button.logout-link {
            background: none; border: none; width: 100%; text-align: left;
            font-family: 'Pirata One', cursive; font-size: 18px; padding: 10px 15px;
            color: var(--blue-silver-mid); cursor: pointer; opacity: 0.8;
        }
        .compact-menu button.logout-link:hover { opacity: 1; text-decoration: underline; }

        .sticky-nav {
            position: fixed; top: var(--header-h); left: 0; width: 100%; height: var(--nav-h);
            background-color: var(--bg-color); border-bottom: 1px solid var(--border);
            z-index: 3000; display: flex; align-items: center; justify-content: center;
            padding: 0 15px; box-sizing: border-box;
        }
        select {
            width: 100%; max-width: 450px; padding: 8px;
            background-color: var(--card-bg); border: 1px solid var(--border);
            border-radius: 8px; font-size: 16px;
            font-family: 'Pirata One', cursive; outline: none; appearance: none;
            text-align: center; color: var(--pure-silver);
        }

        main { width: 90%; max-width: 650px; margin: calc(var(--header-h) + var(--nav-h) + 30px) auto 60px auto; }
        .doctrine-content { display: none; line-height: 1.8; animation: fadeIn 0.4s ease; }
        .doctrine-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        h3 { font-size: 26px; margin-bottom: 25px; text-align: center; letter-spacing: 1px; }
        p { font-size: 18px; margin-bottom: 20px; white-space: pre-wrap; }

        #oracle-gateway { display: none; text-align: center; padding: 50px 0; border-top: 1px solid var(--border); margin-top: 40px; }
        .gateway-text { font-size: 18px; margin-bottom: 20px; color: var(--pure-silver); }
        .arrow-btn { width: 50px; height: 50px; background-color: var(--blue-silver-mid); border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; }
        .arrow-btn svg { width: 24px; height: 24px; fill: var(--bg-color); }

        footer { text-align: center; padding: 30px; font-size: 12px; color: var(--pure-silver); opacity: 0.6; }
    </style>
</head>
<body id="sanctumBody">

    <header>
        <div class="logo luster-sky-silver">The Chosen</div>
        <button class="menu-btn" onclick="toggleMenu()">
            <span></span><span></span><span></span>
        </button>
        <div class="compact-menu" id="compactMenu">
            <a href="inner-sanctum.html">Doctrine</a>
            <a href="oracle-form.html">Oracle</a>
            <button class="logout-link" onclick="logout()">Logout</button>
        </div>
    </header>

    <div class="sticky-nav">
        <select id="chapterSelector" onchange="changeChapter(this.value)">
            <option value="intro">00. Equilibrium (Intro)</option>
            <option value="ch1">01. The Infrastructure</option>
            <option value="ch10">10. The Sentinel</option>
        </select>
    </div>

    <main>
        <section id="intro" class="doctrine-content active">
            <h3 class="luster-sky-silver">00. Equilibrium</h3>
            <p class="doctrine-pure-silver">Observe the world. Liberty is compromised, order has disintegrated, and trivial noise has usurped peace. You have likely fought against this chaos, craving a utopia. But understand this: Utopia exists nowhere.
The era of the mental prison—governed by the Panopticon and voluntary submission—must end. It is time for your liberation.
Your arrival here is no coincidence; it is the inescapable conclusion of your solitary struggle. The Curse of Knowledge is not a source of suffering, but the necessary ritual for your awakening. Open The Eye of Equilibrium. Witness the moment your curse is forged into a blessing.</p>
        </section>

        <section id="ch1" class="doctrine-content">
            <h3 class="luster-sky-silver">01. The Infrastructure</h3>
            <p class="doctrine-pure-silver">The Infrastructure—the vast mechanism often called the Matrix—is a sophisticated energy prison built upon the layers of human interaction. The fact that empires fall and titans of wealth vanish in an instant proves that the Infrastructure never guarantees individual safety.</p>
        </section>

        <section id="ch10" class="doctrine-content">
            <h3 class="luster-sky-silver">10. The Sentinel</h3>
            <p class="doctrine-pure-silver">Humanity faces an existential crisis. The masses have lost their 'Self' in the noise of social media. As AI monopolizes data, the 'Human' human will vanish. Paradoxically, for those carrying The Curse of Knowledge, there has never been a more opportune era to execute the Task.</p>
        </section>

        <div id="oracle-gateway">
            <div class="gateway-text doctrine-pure-silver">Have you absorbed the truth?</div>
            <a href="oracle-form.html" class="arrow-btn">
                <svg viewBox="0 0 24 24"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg>
            </a>
        </div>
    </main>

    <footer>© 2030 THE CHOSEN OFFICIAL</footer>

    <script>
        // ✨ 인증 확인 및 본문 표시
        window.onload = function() {
            if (localStorage.getItem('chosen_access') === 'granted') {
                document.getElementById('sanctumBody').style.display = 'block';
            }
        };

        // ✨ 로그아웃 기능: 세션 삭제 후 로그인 페이지로 이동
        function logout() {
            localStorage.removeItem('chosen_access');
            window.location.replace("index.html");
        }

        function toggleMenu() {
            document.getElementById('compactMenu').classList.toggle('active');
        }

        function changeChapter(chapterId) {
            const allChapters = document.querySelectorAll('.doctrine-content');
            const gateway = document.getElementById('oracle-gateway');
            allChapters.forEach(ch => ch.classList.remove('active'));
            const target = document.getElementById(chapterId);
            if(target) target.classList.add('active');
            if(chapterId === 'ch10') { gateway.style.display = 'block'; } else { gateway.style.display = 'none'; }
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>
