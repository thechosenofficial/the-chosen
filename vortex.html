<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Chosen | Pure Light Starfield</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #000; /* ì‹¬ì—°ì˜ ê²€ì€ìƒ‰ */
            overflow: hidden;
            height: 100vh;
        }
        canvas {
            position: absolute;
            top: 0;
            left: 0;
        }
    </style>
</head>
<body>

    <canvas id="starfieldCanvas"></canvas>

    <script>
        const canvas = document.getElementById('starfieldCanvas');
        const ctx = canvas.getContext('2d');

        let width, height, centerX, centerY;

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            centerX = width / 2;
            centerY = height / 2;
        }

        window.addEventListener('resize', resize);
        resize();

        // ğŸ¨ ìƒ‰ìƒ ì„¤ì •: ìŠ¤ì¹´ì´ë¸”ë£¨ ì‹¤ë²„ ê´‘íƒ ìœ ì§€
        const colors = ['#D1E8F7', '#A5C9E1', '#87CEEB', '#FFFFFF', '#B0E0E6'];
        const particles = [];
        const particleCount = 2000; // ë¹› ì…ìì˜ ë°€ë„

        class LightParticle {
            constructor() {
                this.init();
            }

            init() {
                const maxDist = Math.max(width, height) * 0.8;
                
                // âœ¨ í•µì‹¬ ë³€ê²½: ì¤‘ì•™ ë°€ì§‘ ì œê±° ë° ê³ ë¥¸ ë¶„í¬
                // Math.sqrt(Math.random())ì„ ì‚¬ìš©í•˜ì—¬ ì›í˜• ì˜ì—­ ì „ì²´ì— ê· ì¼í•˜ê²Œ í¼ëœ¨ë¦¼
                this.dist = maxDist * Math.sqrt(Math.random());
                this.angle = Math.random() * Math.PI * 2;
                
                // ì•„ì£¼ ëŠë¦¬ê³  ì¥ì—„í•œ ìì „ ì†ë„
                this.rotationSpeed = (Math.random() * 0.0002) + 0.00005; 
                
                this.color = colors[Math.floor(Math.random() * colors.length)];
                
                // ë¹›ì˜ í¬ê¸° ë‹¤ì–‘í™” (ìˆ«ìë³´ë‹¤ ì•½ê°„ ì‘ê²Œ ì„¤ì •í•˜ì—¬ ì€í•˜ìˆ˜ ëŠë‚Œ ê°•ì¡°)
                this.size = Math.random() * 3 + 0.5; 
                this.baseOpacity = Math.random() * 0.5 + 0.3;
                
                // ê¶¤ì ìš© ê¸°ë¡
                this.history = [];
                this.maxHistory = Math.floor(Math.random() * 5) + 2; // ê¶¤ì ì„ ì§§ê²Œ í•˜ì—¬ ê¹”ë”í•˜ê²Œ
            }

            update() {
                // í˜„ì¬ ìœ„ì¹˜ ì €ì¥
                this.history.unshift({
                    x: centerX + Math.cos(this.angle) * this.dist,
                    y: centerY + Math.sin(this.angle) * this.dist
                });

                if (this.history.length > this.maxHistory) {
                    this.history.pop();
                }

                // ëŠë¦° íšŒì „
                this.angle += this.rotationSpeed;
            }

            draw() {
                // âœ¨ í•µì‹¬ ë³€ê²½: í…ìŠ¤íŠ¸(ìˆ«ì) ëŒ€ì‹  ë¹›ë‚˜ëŠ” ì› ê·¸ë¦¬ê¸°
                this.history.forEach((pos, i) => {
                    const trailFactor = 1 - (i / this.history.length);
                    const currentOpacity = this.baseOpacity * trailFactor;

                    ctx.beginPath();
                    ctx.arc(pos.x, pos.y, this.size * trailFactor, 0, Math.PI * 2);
                    ctx.fillStyle = this.color;
                    ctx.globalAlpha = currentOpacity;

                    // ëª¨ë“  ì…ìì— ì€ì€í•œ ë¹› ë²ˆì§ íš¨ê³¼ ì ìš© (ì¤‘ì•™ ì§‘ì¤‘ ì œê±°)
                    ctx.shadowBlur = this.size * 3; 
                    ctx.shadowColor = this.color;

                    ctx.fill();
                });
            }
        }

        // ì´ˆê¸° ì…ì ìƒì„±
        for (let i = 0; i < particleCount; i++) {
            particles.push(new LightParticle());
        }

        function animate() {
            // ë¶€ë“œëŸ¬ìš´ ì”ìƒì„ ìœ„í•œ ë°°ê²½ ì²˜ë¦¬
            ctx.fillStyle = 'rgba(0, 0, 0, 0.15)';
            ctx.fillRect(0, 0, width, height);

            // ë¹› íš¨ê³¼ë¥¼ ê·¹ëŒ€í™”í•˜ê¸° ìœ„í•œ ë¸”ë Œë”© ëª¨ë“œ ì„¤ì •
            ctx.globalCompositeOperation = 'lighter';

            particles.forEach(p => {
                p.update();
                p.draw();
            });

            // ë‹¤ìŒ í”„ë ˆì„ì„ ìœ„í•´ ë¸”ë Œë”© ëª¨ë“œ ì´ˆê¸°í™”
            ctx.globalCompositeOperation = 'source-over';

            requestAnimationFrame(animate);
        }

        animate();
    </script>
</body>
</html>
